
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Notifiers &#8212; Auditree Framework 1.8.1 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Coding Standards" href="coding-standards.html" />
    <link rel="prev" title="Report Builder" href="report-builder.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="coding-standards.html" title="Coding Standards"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="report-builder.html" title="Report Builder"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Auditree Framework 1.8.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Notifiers</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="notifiers">
<span id="notifiers-description"></span><h1>Notifiers<a class="headerlink" href="#notifiers" title="Permalink to this headline">¶</a></h1>
<p>The last phase in a typical framework check run is the notification
system.  Multiple notifiers can be targeted as part of this phase by using
the <code class="docutils literal notranslate"><span class="pre">--notify</span></code> option on the <code class="docutils literal notranslate"><span class="pre">compliance</span> <span class="pre">--check</span></code> command.  Valid
notifier options are <code class="docutils literal notranslate"><span class="pre">stdout</span></code>, <code class="docutils literal notranslate"><span class="pre">slack</span></code>, <code class="docutils literal notranslate"><span class="pre">pagerduty</span></code>, <code class="docutils literal notranslate"><span class="pre">findings</span></code>,
<code class="docutils literal notranslate"><span class="pre">gh_issues</span></code> and, <code class="docutils literal notranslate"><span class="pre">locker</span></code>.  The general idea behind the notification
system is that each <code class="docutils literal notranslate"><span class="pre">test_</span></code> can generate a short notification that has the
following components:</p>
<blockquote>
<div><p><strong>NOTE:</strong> When configuring notifiers, you should be aware of the
possibilitythat notifications may contain sensitive information that can be
sent to less trusted stores like Slack or public git issue trackers.  So be
mindful of check notification content as well as the nature of the forum
you intend to send these notifications to.</p>
</div></blockquote>
<ul>
<li><p>title (mandatory): should be a <code class="docutils literal notranslate"><span class="pre">property</span></code> of the
<code class="docutils literal notranslate"><span class="pre">ComplianceCheck</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nd">@property</span>
<span class="k">def</span> <span class="nf">title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="s1">&#39;The title&#39;</span>
</pre></div>
</div>
</li>
<li><p>body (mandatory): the body of the message.</p></li>
<li><p>subtitle (optional): if the check has several <code class="docutils literal notranslate"><span class="pre">test_</span></code> methods,
then you can use subtitle in order to distinguish them when all
notifications are sent.</p></li>
</ul>
<p>If you want to create a notification for a given check, use one of the
following strategies:</p>
<ul class="simple">
<li><p>If your <code class="docutils literal notranslate"><span class="pre">ComplianceCheck</span></code> only has one <code class="docutils literal notranslate"><span class="pre">test_</span></code> method, you should
just implement a <code class="docutils literal notranslate"><span class="pre">get_notification_message()</span></code> method in your check.</p></li>
<li><p>If there are many <code class="docutils literal notranslate"><span class="pre">test_</span></code> methods, you can either:</p>
<ul>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">get_notification_message(test_id)</span></code> and generate the
notification structure based on the <code class="docutils literal notranslate"><span class="pre">test_id</span></code> parameter.</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">msg_&lt;name-of-the-check&gt;()</span></code> method. For example, if one of your
test methods is named <code class="docutils literal notranslate"><span class="pre">test_ssh_users()</span></code> then you will need to implement
a check notification method named <code class="docutils literal notranslate"><span class="pre">msg_ssh_users()</span></code>.</p></li>
</ul>
</li>
</ul>
<p>All check notification methods must return a dictionary with the following
structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;subtitle&quot;</span><span class="p">:</span> <span class="s2">&quot;The subtitle of the check&quot;</span>  <span class="c1"># if required/desired,</span>
  <span class="s2">&quot;body&quot;</span><span class="p">:</span> <span class="s2">&quot;The body message&quot;</span>  <span class="c1"># if None, use a standard body</span>
<span class="p">}</span>
</pre></div>
</div>
<p>When possible, it is recommended to use the standard body message
<code class="docutils literal notranslate"><span class="pre">{&quot;body&quot;:</span> <span class="pre">None}</span></code> which includes the number of failures, the number of
warnings, the number of issues fixed by fixers (if applicable), links to report
evidences generated (if applicable) and a link to the check runbook that
contains remediation instructions (if applicable).</p>
<p>The following sections describe the notifiers supported by the framework.</p>
<div class="section" id="file-descriptor">
<h2>File descriptor<a class="headerlink" href="#file-descriptor" title="Permalink to this headline">¶</a></h2>
<p>File descriptor notifications are written directly to standard output.  Among
other things, this is useful for testing purposes.  The file descriptor
notifier is also the default notifier and does not need to be specifically
set using the <code class="docutils literal notranslate"><span class="pre">--notify</span></code> command line parameter.</p>
<p>Notifications are grouped by accreditation and check result (passing, warning,
failure, error).</p>
</div>
<div class="section" id="slack">
<h2>Slack<a class="headerlink" href="#slack" title="Permalink to this headline">¶</a></h2>
<p>This configurable notifier will notify Slack channels (including user personal
channels if desired) per accreditation.  If configured, it will also manage
a channel monitoring rotation that will select the appropriate user for the
current week and direct message them for a given accreditation.  The following
is an example configuration for this notifier to be added to a configuration
file and used with the <code class="docutils literal notranslate"><span class="pre">-C</span></code> option when executing your compliance checks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;notify&quot;</span><span class="p">:</span> <span class="p">{</span>
  <span class="s2">&quot;slack&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;accred.one&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#alert_channel_alpha&quot;</span><span class="p">,</span> <span class="s2">&quot;#alert_channel_beta&quot;</span><span class="p">],</span>
      <span class="s2">&quot;rotation&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;@foo&quot;</span><span class="p">,</span> <span class="s2">&quot;@bar&quot;</span><span class="p">,</span> <span class="s2">&quot;@baz&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;accred.two&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;channels&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#alert_channel_gamma&quot;</span><span class="p">],</span>
      <span class="s2">&quot;rotation&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;@moe&quot;</span><span class="p">,</span> <span class="s2">&quot;@larry&quot;</span><span class="p">,</span> <span class="s2">&quot;@curly&quot;</span><span class="p">],</span>
      <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="s2">&quot;compact&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that you can select the <code class="docutils literal notranslate"><span class="pre">mode</span></code> of the notification. <code class="docutils literal notranslate"><span class="pre">slack</span></code>
notificator offers the following modes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">normal</span></code>: includes all types of test results (pass, fail, error,
and warning) as well as a full description of each test. This is the
default mode.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">compact</span></code>: show all types of test results but only show details on
errors and warnings.</p></li>
</ul>
<p>The below configuration format is also valid but does not provide for
channel monitoring rotation management:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;notify&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;slack&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;accred.one&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#alert_channel_alpha&quot;</span><span class="p">,</span> <span class="s2">&quot;#alert_channel_beta&quot;</span><span class="p">],</span>
      <span class="s2">&quot;accred.two&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;@shemp&quot;</span><span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This notifier also needs to know the credentials for sending message
to your Slack organisation. Include the following in your credentials
file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">slack</span><span class="p">]</span>
<span class="n">webhook</span><span class="o">=</span><span class="n">XXX</span>
</pre></div>
</div>
<p>You can also use a Slack app token (recommended if you need to post
messages to private channels):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">slack</span><span class="p">]</span>
<span class="n">slack</span><span class="o">=</span><span class="n">XXX</span>
</pre></div>
</div>
<p>In case you need private channels as part of the list, you have to
specify the channel ID:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;notify&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;slack&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;accred.one&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;#alert_channel_alpha&quot;</span><span class="p">,</span> <span class="s2">&quot;11223344&quot;</span><span class="p">],</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Channel ID <code class="docutils literal notranslate"><span class="pre">11223344</span></code> can be obtained quickly from the URL to a
message of the target private channel. Of course, the Slack App needs
to be part of the private channel.</p>
</div>
<div class="section" id="pagerduty">
<h2>PagerDuty<a class="headerlink" href="#pagerduty" title="Permalink to this headline">¶</a></h2>
<p>This configurable notifier will send alerts to PagerDuty.
The following is an example configuration for this notifier
to be added to a configuration file and used with the <code class="docutils literal notranslate"><span class="pre">pagerduty</span></code>
option when executing your compliance checks.</p>
<p>Note that you have two options to configure the PagerDuty notifier:</p>
<ul class="simple">
<li><p>Provide a list of checks by class path within an accreditation. This allows you</p></li>
</ul>
<p>to define which checks within the accreditation will trigger PageDuty notifications:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;pagerduty&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;my.accred1&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;service_id&quot;</span><span class="p">:</span> <span class="s2">&quot;SERVICE_ID&quot;</span><span class="p">,</span>
      <span class="s2">&quot;checks&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;package.category.checks.test_module_one.CheckClassOne&quot;</span><span class="p">,</span>
        <span class="s2">&quot;package.category.checks.test_module_two.CheckClassTwo&quot;</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Provide accreditations only and the notifier will send alerts for all checks with those</p></li>
</ul>
<p>accreditations:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;pagerduty&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;my.accred1&quot;</span><span class="p">:</span> <span class="s2">&quot;SERVICE_ID&quot;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">service_id</span></code> field is the service id from PagerDuty, e.g. <code class="docutils literal notranslate"><span class="pre">PABC123</span></code>.
The PagerDuty notifier loads the active incidents to determine if
it needs to create a new incident or update an existing one by using the <code class="docutils literal notranslate"><span class="pre">service_id</span></code>.</p>
</div>
<div class="section" id="github-issue">
<h2>GitHub Issue<a class="headerlink" href="#github-issue" title="Permalink to this headline">¶</a></h2>
<p>Depending on the configuration this notifier will create or update a GitHub
issue per check or as a summary issue per accreditation. If an open issue
already exists then the notification will be added to the existing issue as
an issue comment otherwise a new issue will be created.</p>
<p>This notifier needs to know the credentials for interacting with the provided
GitHub repositories.  Your credentials should, at a minimum, have
<code class="docutils literal notranslate"><span class="pre">write</span></code> access to all repositories specified for notifications to function
correctly. Provide your GitHub id and personal access token in your
credentials file as shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">github</span><span class="p">]</span>
<span class="n">username</span><span class="o">=</span><span class="n">my</span><span class="o">-</span><span class="n">gh</span><span class="o">-</span><span class="nb">id</span>
<span class="n">token</span><span class="o">=</span><span class="n">my</span><span class="o">-</span><span class="n">gh</span><span class="o">-</span><span class="n">personal</span><span class="o">-</span><span class="n">access</span><span class="o">-</span><span class="n">token</span>
</pre></div>
</div>
<div class="section" id="gh-summary-issue-by-accreditation">
<h3>GH Summary Issue by Accreditation<a class="headerlink" href="#gh-summary-issue-by-accreditation" title="Permalink to this headline">¶</a></h3>
<p>A configuration element for each accreditation is necessary to send summary
issue notifications using this notifier. Summary notifications send all
result statuses for checks within the accreditation.  Each accreditation
configuration should consist of a list of repositories to send the notifications
to, optionally a project and column to assign your notification to, along
with a “summary_issue” sub-document dictionary that is used by the notifier to
configure the summary issue.  To specify a repository provide the GitHub
“owner” and “repository” in the form of <code class="docutils literal notranslate"><span class="pre">owner/repository</span></code>. The “summary_issue”
can be configured with the following fields:</p>
<ul class="simple">
<li><dl class="simple">
<dt>“title”</dt><dd><ul>
<li><p>Required</p></li>
<li><p>Provides the title of the issue</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“frequency”</dt><dd><ul>
<li><p>Optional</p></li>
<li><dl class="simple">
<dt>Valid values are</dt><dd><ul>
<li><dl class="simple">
<dt>“day”</dt><dd><ul>
<li><p>Prepends the title with <code class="docutils literal notranslate"><span class="pre">&lt;YYYY-MM-DD&gt;</span> <span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;YYYY-MM-DD&gt;</span></code> label is added</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“week”</dt><dd><ul>
<li><p>Prepends the title with <code class="docutils literal notranslate"><span class="pre">&lt;year&gt;,</span> <span class="pre">&lt;iso</span> <span class="pre">week&gt;W</span> <span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;year&gt;</span></code> label is added</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;iso</span> <span class="pre">week&gt;W</span></code> is added</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“month”</dt><dd><ul>
<li><p>Prepends the title with <code class="docutils literal notranslate"><span class="pre">&lt;year&gt;,</span> <span class="pre">&lt;month&gt;M</span> <span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;year&gt;</span></code> label is added</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;month&gt;M</span></code> is added</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“year”</dt><dd><ul>
<li><p>Prepends the title with <code class="docutils literal notranslate"><span class="pre">&lt;year&gt;</span> <span class="pre">-</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;year&gt;</span></code> label is added</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“labels”</dt><dd><ul>
<li><p>Optional</p></li>
<li><p>List of strings</p></li>
<li><p>Tags the issue with the provided list of labels</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“message”</dt><dd><ul>
<li><p>Optional</p></li>
<li><p>List of strings</p></li>
<li><p>Provides an overview of the issue to be included in the issue body
upon creation</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“assignees”</dt><dd><ul>
<li><p>Optional</p></li>
<li><p>List of strings (GH user IDs)</p></li>
<li><p>Assigns the issue to the list of users</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>“rotation”</dt><dd><ul>
<li><p>Optional</p></li>
<li><p>List of lists of strings (GH user IDs)</p></li>
<li><p>The “frequency” is required when setting a rotation</p></li>
<li><p>When present with “frequency”, overrides the “assignees” setting</p></li>
<li><p>Assigns the issue to the list of users based on the frequency and order
in the rotation list of lists</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<p>The following is an example configuration for this notifier to be added to a
configuration file and used with the <code class="docutils literal notranslate"><span class="pre">-C</span></code> option when executing your
compliance checks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;notify&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;gh_issues&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;accr1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my-org/accr1-repo&quot;</span><span class="p">],</span>
        <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Super cool project&quot;</span><span class="p">:</span> <span class="s2">&quot;Triage&quot;</span><span class="p">},</span>
        <span class="s2">&quot;summary_issue&quot;</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">&quot;title&quot;</span><span class="p">:</span> <span class="s2">&quot;Super cool summary issue for accr1&quot;</span><span class="p">,</span>
          <span class="s2">&quot;frequency&quot;</span><span class="p">:</span> <span class="s2">&quot;week&quot;</span><span class="p">,</span>
          <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="p">[</span>
            <span class="s2">&quot;This is line one.&quot;</span><span class="p">,</span>
            <span class="s2">&quot;This is line two.&quot;</span>
          <span class="p">],</span>
          <span class="s2">&quot;rotation&quot;</span><span class="p">:</span> <span class="p">[[</span><span class="s2">&quot;moe&quot;</span><span class="p">,</span> <span class="s2">&quot;larry&quot;</span><span class="p">,</span> <span class="s2">&quot;curly&quot;</span><span class="p">],</span> <span class="p">[</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="s2">&quot;bar&quot;</span><span class="p">]],</span>
          <span class="s2">&quot;assignees&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;the-dude&quot;</span><span class="p">,</span> <span class="s2">&quot;walter&quot;</span><span class="p">,</span> <span class="s2">&quot;donnie&quot;</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">},</span>
      <span class="o">...</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="gh-issue-per-check">
<h3>GH Issue Per Check<a class="headerlink" href="#gh-issue-per-check" title="Permalink to this headline">¶</a></h3>
<p>A configuration element for each accreditation is necessary to send
notifications per check using this notifier.  Each accreditation configuration
should consist of a list of repositories to send the notifications to, a
list of check execution statuses to send notifications for, and optionally a
list of projects boards and project columns to add the notification issues to.
To specify a repository provide the GitHub “owner” and “repository”
in the form of <code class="docutils literal notranslate"><span class="pre">owner/repository</span></code>.  Valid status values include “pass”,
“warn”, “fail”, and “error”.  If no status configuration is provided then the
“fail” status is used as the default.  Finally to specify project boards to
assign issues to, set “project” to a dictionary where the keys are
project names and the values are the column names.  The following is an example
configuration for this notifier to be added to a configuration file and used
with the <code class="docutils literal notranslate"><span class="pre">-C</span></code> option when executing your compliance checks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;notify&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;gh_issues&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;accr1&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my-org/accr1-repo&quot;</span><span class="p">],</span>
        <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Super cool project&quot;</span><span class="p">:</span> <span class="s2">&quot;Triage&quot;</span><span class="p">},</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;fail&quot;</span><span class="p">,</span> <span class="s2">&quot;error&quot;</span><span class="p">]</span>
      <span class="p">},</span>
      <span class="s2">&quot;accr2&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;repo&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;my-org/accr2-repo&quot;</span><span class="p">],</span>
        <span class="s2">&quot;project&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;Some other super cool project&quot;</span><span class="p">:</span> <span class="s2">&quot;Backlog&quot;</span><span class="p">},</span>
        <span class="s2">&quot;status&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;error&quot;</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="evidence-locker">
<h2>Evidence Locker<a class="headerlink" href="#evidence-locker" title="Permalink to this headline">¶</a></h2>
<p>This notifier will take your check execution for all accreditations and put
a summary markdown file <code class="docutils literal notranslate"><span class="pre">notifications/alerts_summary.md</span></code> into your evidence
locker.  The summary markdown file will <strong>only</strong> be pushed to the remote
evidence locker if the <code class="docutils literal notranslate"><span class="pre">full-remote</span></code> argument is applied to the <code class="docutils literal notranslate"><span class="pre">evidence</span></code>
option when executing your checks otherwise the file will remain in the local
evidence locker.  No additional configuration is required for this notifier.</p>
</div>
<div class="section" id="security-advisor-findings">
<h2>Security Advisor Findings<a class="headerlink" href="#security-advisor-findings" title="Permalink to this headline">¶</a></h2>
<p>This configurable notifier will post findings to Security Advisor Findings API
per accreditation. The following is an example configuration for this notifier
to be added to a configuration file and used with the <code class="docutils literal notranslate"><span class="pre">-C</span></code> option when
executing your compliance checks:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;notify&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;findings&quot;</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">&quot;accr1&quot;</span><span class="p">:</span> <span class="s2">&quot;https://us-south.secadvisor.cloud.ibm.com/findings&quot;</span><span class="p">,</span>
      <span class="s2">&quot;accr2&quot;</span><span class="p">:</span> <span class="s2">&quot;https://eu-gb.secadvisor.cloud.ibm.com/findings&quot;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt>Supported regions for Security Advisor Findings API</dt><dd><ul class="simple">
<li><p>us-south: <a class="reference external" href="https://us-south.secadvisor.cloud.ibm.com/findings">https://us-south.secadvisor.cloud.ibm.com/findings</a></p></li>
<li><p>eu-gb: <a class="reference external" href="https://eu-gb.secadvisor.cloud.ibm.com/findings">https://eu-gb.secadvisor.cloud.ibm.com/findings</a></p></li>
</ul>
</dd>
</dl>
<p>This notifier also needs to know the credentials for sending findings
to Security Advisor Findings API. Include the following in your credentials
file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">findings</span><span class="p">]</span>
<span class="n">api_key</span><span class="o">=</span><span class="n">platform</span><span class="o">-</span><span class="n">api</span><span class="o">-</span><span class="n">key</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">api_key</span></code> is your IBM Cloud Platform API Key.</p>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Notifiers</a><ul>
<li><a class="reference internal" href="#file-descriptor">File descriptor</a></li>
<li><a class="reference internal" href="#slack">Slack</a></li>
<li><a class="reference internal" href="#pagerduty">PagerDuty</a></li>
<li><a class="reference internal" href="#github-issue">GitHub Issue</a><ul>
<li><a class="reference internal" href="#gh-summary-issue-by-accreditation">GH Summary Issue by Accreditation</a></li>
<li><a class="reference internal" href="#gh-issue-per-check">GH Issue Per Check</a></li>
</ul>
</li>
<li><a class="reference internal" href="#evidence-locker">Evidence Locker</a></li>
<li><a class="reference internal" href="#security-advisor-findings">Security Advisor Findings</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="report-builder.html"
                        title="previous chapter">Report Builder</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="coding-standards.html"
                        title="next chapter">Coding Standards</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/notifiers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="coding-standards.html" title="Coding Standards"
             >next</a> |</li>
        <li class="right" >
          <a href="report-builder.html" title="Report Builder"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Auditree Framework 1.8.1 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Notifiers</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2020, IBM.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.3.1.
    </div>
  </body>
</html>